// --==[ Imports ]==-- \\
import UI/MindstoneButton
import Fishing

// --==[ Variables ]==-- \\
var count
var health
var meleeDist = 8
var longDist = 19

// --==[ Cooldown Functions ]==-- \\
func WeaponCooldowns(count, buff)
  Skeleton(buff)
  Bardiche()
  Hammer(count)
  Mask()
  Blade(count)
  Fissure(count)

func MeleeCooldowns(count, buff)
  Skeleton(buff)
  Bardiche()
  Hammer(count)

func RangeCooldowns(count)
  Mask()
  Blade(count)
  Fissure(count)

func AreaCooldowns(count)
  Mask()
  Blade(count)
  Hammer(count)
  Fissure(count)

func SingleCooldowns(buff)
  Skeleton(buff)
  Bardiche()
  Mask()

func Bardiche()
  ?(item.GetCooldown(＂bardiche＂) < 1 |
  ^item.GetCooldown(＂bardiche＂) > 870) &
  ^foe.count >= 1 & foe.distance < meleeDist
    equip bardiche
    activate R
    break

func Hammer(count)
  ?(item.GetCooldown(＂heavy_hammer＂) < 1 | 
  ^item.GetCooldown(＂heavy_hammer＂) > 630) &
  ^foe.count >= count & foe.distance < meleeDist
    equip heavy hammer
    activate R
    break

func Mask()
  ?item.GetCooldown(＂mask＂) < 1 &
  ^foe.count > 0 & foe.distance < longDist
    equip mask
    activate R
    break

func Skeleton(buff)
  ?item.GetCooldown(＂skeleton_arm＂) < 2 &
  ^foe.count >= 1 & foe.distance < meleeDist
    equip skeleton
    ?buffs.GetCount("Pick-pocket") >= buff
      activate R
    break

func Blade(count)
  ?item.GetCooldown(＂blade＂) < 1 &
  ^foe.count >= count &
  ^foe.distance < longDist
    equip fallen god
    activate R
    break

func Fissure(count)
  ?(item.GetCooldown(＂fissure＂) < 1 |
  ^item.GetCooldown(＂fissure＂) > 450) &
  ^foe.count >= count & foe.distance >= longDist
    equipL fissure
    activate L

func Quarterstaff()
  ?(item.GetCooldown(＂quarterstaff＂) < 1 &
  ^(foe.distance > meleeDist)
    equipL "quarterstaff -socket -stone"
    activate L

func Hatchet()
  ?(item.GetCooldown(＂hatchet＂) < 1 &
  ^(foe.distance < meleeDist | harvest = Tree)
    equipL hatchet
    activate L

// --==[ Buff Functions ]==-- \\
Smite
Pick-pocket


// --==[ Debuff Functions ]==-- \\
Stun
Armor Fatigue
Feeble
Chill
Burn
  immune_to_debuff_damage
Weaken

// --==[ Utility Functions ]==-- \\
func Backstep()
  var LeftItem = item.left
  var RightItem = item.right
  equip mind
  equipL LeftItem
  equipR RightItem

func Dash()
  ?foe.distance > meleeDist & foe.distance < 14
    var LeftItem = item.left
    var RightItem = item.right
    equip ashing
    equipL LeftItem
    equipR RightItem

func Push(handed)
  ?foe.distance <= 13 &! unpushable
    var LeftItem = item.left
    var RightItem = item.right
    ?handed = "right" | handed = "R"
      equipR "grappling hook"
    : equipL "grappling hook"
    ?foe.distance > 13
      equipL LeftItem
      equipR RightItem
    : break

func Heal(health)
  ?hp < health & item.potion = healing
    activate potion
  ?hp < health * 2 & item.potion = vampire
    activate potion
  ?foe.count > 0 & hp < health * 2 &!
  ^ai.paused
    equipL dL
    equipR ah
    break

// --==[ Out of Combat ]==-- \\
?(foe ! boss & foe.distance > longDist |
^ai.paused)
  equipL ouroboros
  ?hp < maxhp-2
    equipR tower
  : equipR tri

?harvest=Boulder & 
^harvest.distance < meleeDist
  equip shovel

?harvest=Tree & 
^harvest.distance < meleeDist
  ?hp < maxhp-2
    equipR hatchet
  : equipL hatchet
  Hatchet()

?pickup.distance < meleeDist
  ?hp < maxhp-2
    equipR star
  : equipL star




?foe = bolesh
  ?hp < 16
    activate potion
    equipL ice
    equipR ah
    break
  RangeCooldowns()
  ?foe.distance < 12
    Backstep()
  equipL crossbow
  equipR ah
  break

?loc=rocky & foe.distance < longDist
  ?foe.armor > 0 & hp > 15
    equip heavy hammer
    Hammer(1)
    break
  ?hp < 15
    equipL dL
    equipR ah
    break
  ?foe = aether
    equip shield ah
    equipL vigor
    break
  ?foe = fire
    equip shield ah
    equip aether
    break
  ?foe = ice
    equip shield ah
    equipL fire
    break
  ?foe = poison
    equip shield ah
    equip ice
    break
  ?foe = vigor
    equip shield ah
    equipL poison
    break
  equip blade
  break

Heal(10)

WeaponCooldowns(5, 1)

?foe = immune_to_physical
  equipL wand
  equipR ah
  break

?foe = immune_to_ranged
  equipL sword
  equipR ah
  break

?foe.distance > meleeDist
  equip crossbow U

?foe.armor > 35
  Hammer(1)
  Dash()
  ?hp < 15
    equipL hammer
    equipR ah

import UI/MindstoneButton
import Cosmetics/PetBoo

?foe.armor > 35
  equip heavy hammer
  ?foe.distance > 8
    equipL hammer
    equipR ash
  break

equip crossbow U
?foe = boss
  equip blade
  ?foe.distance > 8
    equipL crossbow
    equipR ash
